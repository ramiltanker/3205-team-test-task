(this["webpackJsonp3205-team-test-task"]=this["webpackJsonp3205-team-test-task"]||[]).push([[0],{20:function(e,n,t){e.exports={converter:"Converter_converter__2WV2W",result:"Converter_result__IZ3Wy"}},21:function(e,n,t){e.exports={currencies:"Currencies_currencies__sfcgV"}},22:function(e,n,t){e.exports={nav_menu:"NavMenu_nav_menu__34HtU",link:"NavMenu_link__2Ll4s"}},23:function(e,n,t){e.exports={box:"ChangeBaseCurrency_box__3KfXN",button:"ChangeBaseCurrency_button__1fRcV"}},27:function(e,n,t){e.exports={input_box:"InputString_input_box__wFSpy",label:"InputString_label__24DUI"}},35:function(e,n,t){e.exports={header:"Header_header__2-R9q"}},47:function(e,n,t){},54:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(17),i=t.n(c),o=t(13),s=t(16),u=t(14),l=t(4),d=t(26),f=t.n(d),b=t(30),h=function(e){return fetch("https://api.fastforex.io/fetch-all?from=".concat(e,"&api_key=7a946d40a9-8d56afe14f-r21f8y"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))})).then((function(e){return e}))},v="SET_DEFAULT_BASE_CURRENCY",j="GET_CURRENCIES_REQUEST",p="GET_CURRENCIES_FAILED",g="GET_CURRENCIES_SUCCESS",m={basedCurrency:"",currencies:void 0,isGetCurencyRequest:!1,isGetCurencyFailed:!1,isGetCurencySuccess:!1},O=Object(u.b)({currency:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case v:return Object(l.a)(Object(l.a)({},e),{},{basedCurrency:n.basedCurrency});case j:return Object(l.a)(Object(l.a)({},e),{},{isGetCurencyRequest:!0,isGetCurencyFailed:!1,isGetCurencySuccess:!1});case p:return Object(l.a)(Object(l.a)({},e),{},{isGetCurencyRequest:!1,isGetCurencyFailed:!0,isGetCurencySuccess:!1});case g:return Object(l.a)(Object(l.a)({},e),{},{currencies:n.currencies,isGetCurencyRequest:!1,isGetCurencyFailed:!1,isGetCurencySuccess:!0});default:return e}}}),y=t(31),x=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.c)(Object(u.a)(y.a)),C=Object(u.d)(O,x),_=(t(47),t(2)),S=s.c,E=function(){return Object(s.b)()},N=t(9),w=t(7),R=t(20),T=t.n(R);var U,k,D=t(18),G=t(19),F=t(27),I=t.n(F),B=t(1),L=G.a.input(U||(U=Object(D.a)(["\n  width: ",";\n  height: 60px;\n  background: #ffffff;\n  border: 1px solid #f1f1f1;\n  border-radius: 4px;\n\n  font-family: Montserrat;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 24px;\n  padding-left: 16px;\n  padding-top: 5px;\n  margin-right: ",";\n  &:focus,\n  &:hover {\n    border-color: #01a7fd;\n    border-width: 2px;\n    outline-color: #01a7fd;\n  }\n"])),(function(e){return e.width}),(function(e){var n;return null===(n=e.style)||void 0===n?void 0:n.marginRight})),V=function(e){var n=e.inputName,t=e.inputType,r=e.inputId,a=e.labelText,c=e.inputWidth,i=e.marginRight,o=e.inputValue,s=e.onChange,u=e.inputPlaceholder;return Object(B.jsxs)("div",{className:I.a.input_box,children:[Object(B.jsx)("label",{className:I.a.label,children:a}),Object(B.jsx)(L,{placeholder:u,style:{marginRight:i},width:c,type:t,name:n,value:o,onChange:s,id:r})]})},M=G.a.button(k||(k=Object(D.a)(["\n  width: ",";\n  height: ",";\n  background: #01a7fd;\n  border-radius: 100px;\n  border-style: none;\n  cursor: pointer;\n  opacity: 1;\n  transition: opacity 0.3s linear;\n  font-family: Montserrat;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 24px;\n  color: #ffffff;\n  align-self: ",";\n  margin-right: ",";\n  margin-left: ",";\n  margin-top: ",";\n  margin-bottom: ",";\n  &:hover {\n    opacity: 0.6;\n    transition: opacity 0.3s linear;\n  }\n  &:disabled,\n  &hover {\n    background-color: #cccccc;\n    cursor: not-allowed;\n    transition: none;\n    opacity: 1;\n  }\n"])),(function(e){var n;return null===(n=e.style)||void 0===n?void 0:n.width}),(function(e){var n;return null===(n=e.style)||void 0===n?void 0:n.height}),(function(e){var n;return null===(n=e.style)||void 0===n?void 0:n.alignSelf}),(function(e){var n;return null===(n=e.style)||void 0===n?void 0:n.marginRight}),(function(e){var n;return null===(n=e.style)||void 0===n?void 0:n.marginLeft}),(function(e){var n;return null===(n=e.style)||void 0===n?void 0:n.marginTop}),(function(e){var n;return null===(n=e.style)||void 0===n?void 0:n.marginBottom})),P=function(e){var n=e.text,t=e.width,r=e.height,a=e.marginRight,c=e.marginLeft,i=e.marginTop,o=e.marginBottom,s=e.alignSelf,u=e.isButtonDisabled;return Object(B.jsx)(M,{style:{marginRight:a,marginLeft:c,marginTop:i,marginBottom:o,width:t,height:r,alignSelf:s},disabled:u,children:n})},q=function(){var e=a.a.useState(),n=Object(w.a)(e,2),t=n[0],c=n[1],i=a.a.useState([]),o=Object(w.a)(i,2),s=o[0],u=o[1],d=a.a.useState(""),f=Object(w.a)(d,2),b=f[0],h=f[1],v=a.a.useState(""),j=Object(w.a)(v,2),p=j[0],g=j[1],m=S((function(e){return e.currency})),O=m.currencies,y=m.basedCurrency,x=function(){var e=a.a.useState({}),n=Object(w.a)(e,2),t=n[0],c=n[1],i=a.a.useState({}),o=Object(w.a)(i,2),s=o[0],u=o[1],d=a.a.useState(!1),f=Object(w.a)(d,2),b=f[0],h=f[1],v=a.a.useState(!1),j=Object(w.a)(v,2),p=j[0],g=j[1],m=a.a.useState(!1),O=Object(w.a)(m,2),y=O[0],x=O[1],C=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,_=Object(r.useCallback)((function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];c(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),u(e),h(n),g(t),x(r)}),[c,u,h,g,x]);return{values:t,handleChange:function(e){var n=e.target,r=n.name,a=n.value;c(Object(l.a)(Object(l.a)({},t),{},Object(N.a)({},r,a))),u(Object(l.a)(Object(l.a)({},s),{},Object(N.a)({},r,n.validationMessage))),h(n.checkValidity()),g(!a),"mail"===r&&C.test(String(a).toLowerCase())?x(!0):x(!1)},errors:s,isValid:b,resetForm:_,isDirty:p,isEmail:y}}();a.a.useEffect((function(){var e=O&&O.results,n=[];for(var t in e){var r=Object(N.a)({},t,e[t]);n.push(r)}u(n)}),[O]),a.a.useEffect((function(){var e="",n="",t=x.values.convert&&x.values.convert.match(/in ([^ ]*)/);t&&null!==t&&(e=t[1]);var r=x.values.convert&&x.values.convert.match(/\d+/g);r&&null!==r&&(n=r[0]),g(n),h(e.toUpperCase())}),[x.values.convert]);return Object(B.jsxs)("section",{className:T.a.converter,children:[Object(B.jsxs)("form",{className:T.a.form,onSubmit:function(e){e.preventDefault();var n=0;s.forEach((function(e){for(var t in e)b===t&&(n=e[t]*Number(p));c(n)}))},children:[Object(B.jsx)(V,{inputName:"convert",inputType:"text",inputId:"convert",labelText:"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0430\u0446\u0438\u044f",inputWidth:"600px",inputValue:x.values.convert||"",onChange:x.handleChange,inputPlaceholder:"15 ".concat("USD"===y?"usd":"rub"," in  ").concat("USD"===y?"rub":"usd")}),Object(B.jsx)(P,{text:"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",width:"200px",height:"50px",marginTop:"30px"})]}),Object(B.jsx)("p",{className:T.a.result,children:t})]})},W=t(21),A=t.n(W),X=function(){var e=S((function(e){return e.currency})),n=e.basedCurrency,t=e.currencies,r=a.a.useState([]),c=Object(w.a)(r,2),i=c[0],o=c[1];return a.a.useEffect((function(){var e=t&&t.results,n=[];for(var r in e){var a=Object(N.a)({},r,e[r]);n.push(a)}o(n)}),[t]),Object(B.jsx)("section",{className:A.a.currencies,children:Object(B.jsx)("div",{className:A.a.container,children:i.map((function(e,t){var r="";for(var a in e)r=a;return Object(B.jsxs)("p",{className:A.a.currency,children:["1 ",n," = ",1*e[r]," ",r]},t)}))})})},z=t(35),H=t.n(z),J=t(22),K=t.n(J),Q=function(){return Object(B.jsxs)("nav",{className:K.a.nav_menu,children:[Object(B.jsx)(o.b,{to:"/converter",className:K.a.link,children:"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440"}),Object(B.jsx)(o.b,{to:"/currencies",className:K.a.link,children:"\u0412\u0430\u043b\u044e\u0442\u044b"})]})},Y=t(23),Z=t.n(Y),$=function(){var e=E();return Object(B.jsxs)("div",{className:Z.a.box,children:[Object(B.jsx)("button",{className:Z.a.button,onClick:function(n){return function(n){n.preventDefault(),e({type:v,basedCurrency:"USD"})}(n)},children:"USD"}),Object(B.jsx)("button",{className:Z.a.button,onClick:function(n){return function(n){n.preventDefault(),e({type:v,basedCurrency:"RUB"})}(n)},children:"RUB"})]})},ee=function(){return Object(B.jsxs)("header",{className:H.a.header,children:[Object(B.jsx)(Q,{}),Object(B.jsx)($,{})]})};var ne=function(){var e=E(),n=S((function(e){return e.currency})),t=n.basedCurrency;return a.a.useEffect((function(){var n=window.navigator&&window.navigator.language;"ru"===(n=n.substr(0,2).toLowerCase())&&e({type:v,basedCurrency:"RUB"}),"en"===n&&e({type:v,basedCurrency:"USD"})}),[e]),a.a.useEffect((function(){var n;e((n=t,function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:j}),h(n).then((function(e){e?t({type:g,currencies:e}):(console.log(e),t({type:p}))})).catch((function(e){t({type:p}),console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()))}),[t,e]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(ee,{}),Object(B.jsxs)(_.c,{children:[Object(B.jsx)(_.a,{path:"/converter",children:Object(B.jsx)(q,{})}),Object(B.jsx)(_.a,{path:"/currencies",children:Object(B.jsx)(X,{})})]})]})},te=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,55)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(B.jsx)(a.a.StrictMode,{children:Object(B.jsx)(o.a,{children:Object(B.jsx)(s.a,{store:C,children:Object(B.jsx)(ne,{})})})}),document.getElementById("root")),te()}},[[54,1,2]]]);
//# sourceMappingURL=main.5c5b5a82.chunk.js.map